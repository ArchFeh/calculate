# Calculate append=replace path=/etc/polkit-1/rules.d
/* -*- mode: js; js-indent-level: 4; indent-tabs-mode: nil -*- */

// Mount disk by plugdev group rules for polkit
//

polkit.addRule(function(action, subject) {
#?pkg(sys-fs/udisks)<2#
    if (action.id.indexOf("org.freedesktop.udisks.") == 0 &&
#pkg#
#?pkg(sys-fs/udisks)>=2#
    if (action.id.indexOf("org.freedesktop.udisks2.") == 0 &&
#pkg#
        subject.isInGroup("plugdev")) {
             return polkit.Result.YES;
   }
});
