diff --git a/profile/jabber/etc/jabber/ejabberd.yml b/profile/jabber/etc/jabber/ejabberd.yml
index 6706b1e..3bad236 100644
--- a/profile/jabber/etc/jabber/ejabberd.yml
+++ b/profile/jabber/etc/jabber/ejabberd.yml
@@ -58,6 +58,35 @@ acl:
   local: 
     user_regexp: 
       - ""
+#?pkg(ejabberd)>=20.04#
+access: 
+  announce: 
+    - allow: admin
+  c2s: 
+    - deny: blocked
+    - allow
+  configure: 
+    - allow: admin
+  local:
+    - allow: local
+  muc: 
+    - allow
+  muc_admin: 
+    - allow: admin
+  pubsub_createnode: 
+    - allow
+  register: 
+    - allow
+host_config: 
+  "localhost": 
+    access: 
+      c2s: 
+        - allow: admin
+        - deny
+      register: 
+        - deny
+#pkg#
+#?pkg(ejabberd)<20.04#
 access: 
   announce: 
     admin: allow
@@ -91,6 +120,7 @@ host_config:
         all: deny
       register: 
         all: deny
+#pkg#
 language: "en"
 modules: 
   mod_adhoc: []
@@ -122,7 +152,12 @@ modules:
   mod_pubsub: 
     access_createnode: pubsub_createnode
     plugins: 
+#?pkg(ejabberd)>=20.04#
+      - "flat"
+#pkg#
+#?pkg(ejabberd)<20.04#
       - "default"
+#pkg#
       - "pep"
   mod_register: 
     welcome_message: 
