diff --git data/calculate data/calculate
index 45f3d71..fcd0433 100644
--- data/calculate
+++ data/calculate
@@ -156,7 +156,7 @@ start() {
 
 stop() {
 	local roottype=`variable_value main.os_root_type`
-	if [[ $roottype == "hdd" ]] && rc-config list boot | grep -q "calculate "
+	if [[ $roottype == "hdd" ]] && rc-config list boot | grep -q -e "calculate " -e "calculate$"
 	then
 		rc-update del calculate boot
 		local distdir="/usr/portage/distfiles"
diff --git data/handbook-en.html data/handbook-en.html
index 1e414eb..6351576 100644
--- data/handbook-en.html
+++ data/handbook-en.html
@@ -17,13 +17,13 @@ pre {font-size:133% }
 </style>
 </head>
 <body>
-<h1 id="Installation-Guide">Installation Guide<a href="#Installation-Guide" class="wiki-anchor">&para;</a></h1>
+<h1 id="Quick-Installation-Guide">Quick Installation Guide<a href="#Quick-Installation-Guide" class="wiki-anchor">&para;</a></h1>
 
 
-	<h2 id="Thank-you-for-using-Calculate-Linux">Thank you for using Calculate Linux!<a href="#Thank-you-for-using-Calculate-Linux" class="wiki-anchor">&para;</a></h2>
+	<h2 id="Welcome-to-Calculate-Linux-">Welcome to Calculate Linux !<a href="#Welcome-to-Calculate-Linux-" class="wiki-anchor">&para;</a></h2>
 
 
-	<p>We do our best to offer you a most convenient system for work, using the original installer, redesigned user interface, templates, Calculate utilities and Gentoo Portage. The system is distributed as an installation image, which contains chosen software. Most of the software we have included come under the free license, thus allowing you to install, distribute and modify the source code.</p>
+	<p>We do our best to offer you a most convenient system for work, using the original installer, a rebranded user interface, configuration templates, Calculate Utilities and Gentoo Portage. The system is distributed as an installation image, which contains chosen software. Most of the software we have included come under the free license, thus allowing you to install, distribute and modify the source code as you feel like.</p>
 
 
 	<p>Below is the complete list of our distributions with their abbreviations:</p>
@@ -31,7 +31,6 @@ pre {font-size:133% }
 
 	<ul>
 	<li>CLD - Calculate Linux Desktop KDE</li>
-		<li>CLDG - Calculate Linux Desktop GNOME</li>
 		<li>CLDX - Calculate Linux Desktop XFCE</li>
 		<li>CLS - Calculate Linux Scratch</li>
 		<li>CMC - Calculate Media Center</li>
@@ -40,125 +39,104 @@ pre {font-size:133% }
 	</ul>
 
 
-	<p>To obtain administrator privileges on a system booted from a LiveCD, log in as <em>root</em> with the password <strong>root</strong>. Access to the CLD, CLDG and CLDX desktop can be obtained by the user <em>guest</em> with the password <strong>guest</strong>.</p>
+	<p>To gain admin privileges on a system booted from a LiveCD, either <span class="bluecode" >su</span> in the graphical console emulator or hit <strong>Ctrl+Alt+F[1-8]</strong> to operate from a text-mode console. For access to your CLD or CLDX desktop as <em>guest</em>, the password will be, unsurpisingly, <strong>guest</strong>.</p>
 
 
 	<h2 id="Network-configuration">Network configuration<a href="#Network-configuration" class="wiki-anchor">&para;</a></h2>
 
 
-	<p>Network Setup in CLD, CLDG and CLDX is performed with the Networkmanager. The program has a graphical interface with which you can configure both wired and wireless networks. When you load the program, it tries to bring up a network interface and obtain an IP address from a DHCP server. Start the program by clicking on the icon in the upper right corner of the screen.</p>
-
-
-	<p>Network Configuration of CLS, CDS and CSS is performed via the configuration file <code>/etc/conf.d/net</code>; help on setting up a network can be found in <code>/usr/share/doc/openrc/net.example</code>. Once you have edited the settings, restart the network interface:</p>
-
+As for any other operation performed on the Utilities Server (and this is how you setup your Internet connection with CL), you have three options for network configuration :
+	<ul>
+	<li>the graphical manager,</li>
+		<li>the console manager,</li>
+		<li>the Utilities Server, directly.</li>
+	</ul>
 
-<pre>
-/etc/init.d/net.eth0 restart
-</pre>
 
 	<h2 id="Partition-management">Partition management<a href="#Partition-management" class="wiki-anchor">&para;</a></h2>
 
 
-	<p>Before installing, you may need to change the partitions on your hard disk. To install CLD, CLDG or CLDX, we recommend that you use the partition of at least 10 GB. More detailed hardware requirements can be found <a href="http://www.calculate-linux.org/main/en/hardware_requirements" class="external">here</a>. The swap partition (swap) will normally be twice the size of RAM. If the swap partition already exists, the system will use it. It is wise to have a separate partition for your personal files (/home). See more detailed recommendations on partitioning <a href="http://www.calculate-linux.org/main/en/disk_partitioning" class="external">here</a>.</p>
+	<p>Before installing, you may need to edit partitions on your hard disk. If you intend to install CLD or CLDX, we recommend that you use the partition of at least 10 GB. More detailed hardware requirements can be found <a href="http://www.calculate-linux.org/main/en/hardware_requirements" class="external">here</a>. The swap partition will normally be twice the size of RAM. If the swap partition already exists, the system will use it. Moreover, it is wise to have a separate partition for your personal files (i.e. for the <code>/home</code> directory). See more detailed instructions on partitioning <a href="http://www.calculate-linux.org/main/en/disk_partitioning" class="external">here</a>.</p>
 
 
-	<p>CLD, CLDG and CLDX distro use <em>Gparted</em> to change the disk partitioning. Note that CLS and CDS contain only the command line utilities: <em>fdisk</em>,<em>gdisk</em> or <em>cfdisk</em>.</p>
+	<p>CLD and CLDX provide <em>Gparted</em> to edit partitions with, while CLS, CSS and CDS feature only command line utilities for the same purposes, namely <code>fdisk</code>, <code>gdisk or @cfdisk</code>.</p>
 
 
-	<p>To view the list of all existing partitions, open the console as <em>root</em> and type:<br /><pre>
+	<p>To list all existing partitions, open your terminal as <em>root</em> and type:<br /><pre>
 fdisk -l
 </pre></p>
 
 
-	<p>Note: To obtain <em>root</em> rights in console mode, use <code>su</code> or <code>sudo</code>.</p>
-
+	<p>Note: To obtain the <em>root</em> priveleges  in console mode, use <code>su</code> or <code>sudo</code>.</p>
 
-	<p>If you are new to Linux, it may be a while before you get used to the differences between partition names.<br />In Linux, partitions are referred to as <em>sda1, sda2, ...</em> instead of the common C:\, D:\, ...</p>
 
+	<p>If you are new to Linux, it may be a while before you get used to the differences between partition names.<br />In Linux, partitions are referred to as <code>sda1</code>, <code>sda2</code>, etc., instead of the common <code>C:\</code>, <code>D:\</code>, ...</p>
 
-	<p>You can also use the existing partitioning or create it from <em>Windows</em>. To define a given partition in Linux, remember its location and size. Usually, drive C:\ corresponds to sda1, disk D:\, to sda2.</p>
 
+	<p>You can also use the existing partitioning or repartition your hard disk from Windows. To define a given partition in Linux, remember its location and size. Typically, <code>C:\</code> would correspond to <code>sda1</code>, <code>D:\</code> to <code>sda2</code>, and so on.</p>
 
-	<p><h2 id="Installation">Installation<a href="#Installation" class="wiki-anchor">&para;</a></h2>
 
+	<p><h2 id="Installation-variants">Installation variants<a href="#Installation-variants" class="wiki-anchor">&para;</a></h2>
 
-	<p>Since Calculate Linux 10.9, we use the <code>cl-install</code> utility for installation. A graphical front-end is provided for CLD, CLDG, CLDX and CLS versions: <code>cl-console-gui</code>. To run this program, click on the icon "Calculate Linux Install" on your desktop.</p>
 
-
-	<p>To install the system on the second partition of your hard disk with <code>cl-install</code>, run the following in the terminal with <em>root</em> privileges:<br /><pre>
-cl-install -d /dev/sda2
-</pre></p>
-
-
-Here is the list of most commonly used parameters:
+We provide several tools that get you install Calculate Linux. You can choose between :
 	<ul>
-	<li><strong>--hostname HOSTNAME</strong> - set a short or a full hostname;</li>
-		<li><strong>-l</strong> - the system locale. The supported languages are en_US - American English, bg_BG - Bulgarian, de_DE - German, es_ES - Spanish, fr_FR - French, it_IT - Italian, pl_PL - Polish, pt_BR - Portuguese, ru_RU - Russian, and uk_UA - Ukrainian;</li>
-		<li><strong>--mbr DEVICE</strong> - disk with master boot record; if set to 'off', changes will be disabled.</li>
+	<li>the GUI installer, <a href="http://www.calculate-linux.org/main/en/calculate-console-gui" class="external">cl-console-gui</a>,</li>
+		<li>the command line installer, <a href="http://www.calculate-linux.org/main/en/calculate-console" class="external">cl-console</a>,</li>
 	</ul>
 
 
-	<p>During installation, the program will extract <em>stage4</em> - that is, the image of your future system - and perform the initial configuration via templates.</p></p>
-
+	<p>Either a <code>squashfs</code> image (if you are installing from a LiveCD or a bootable USB media you prepared beforehand) or an ISO image can be the starting point. If the latter, it must be put in <code>/var/calculate/linux</code> or <code>/var/calculate/remote/linux</code>. In the second case, all Calculate Linux flavors are available for install, provided that the architecture you specify matches your hardware.</p>
 
-	<h2 id="Installing-on-a-USB-Flash">Installing on a USB Flash<a href="#Installing-on-a-USB-Flash" class="wiki-anchor">&para;</a></h2>
 
-
-	<p><em>Before you begin, we highly recommend that you make a backup of your data on a flash drive.</em></p>
-
-
-	<p>To install the system on a USB Flash, you should use the command line utility <code>cl-install</code>. Plug the flash drive to your computer. If you do not know the device name of your stick, run the following in the console with <em>root</em> privileges:<br /><pre>
-fdisk -l
-</pre></p>
-
-
-	<p>If your flash drive was recognized as a <code>/dev/sdb</code> device, type the following in the console to install the system on it:<br /><pre>
-cl-install -d /dev/sdb1
-</pre></p>
+	<p>All three installers are part of CL, but it is possible to use them on any Gentoo-compatible distribution. These are found in the <code>calculate</code> overlay.</p></p>
 
 
 	<h2 id="The-first-launch">The first launch<a href="#The-first-launch" class="wiki-anchor">&para;</a></h2>
 
 
-	<p>After installing the CLD, CLDX and CLSG you get two users: <em>root</em> and <em>guest</em> (if you have not specified other user accounts). The user <em>guest</em> can get access to the graphical environment: use the username <em>guest</em> with the password <strong>guest</strong> to log in.</p>
+	<p>Once your CLD or CLDX system is up and running, you get two users: <em>root</em> and <em>guest</em> (if no other user accounts have been specified). Any user can get access to the graphical environment. Please note that the default password for <em>guest</em> is <strong>guest</strong>.</p>
 
 
-	<p>CLS, by default, does not prompt for the password in graphical mode. After installation you can login as root and launch the window manager by typing:<br /><pre>
+	<p>CLS as it comes out-of-box does not prompt for the password in graphical mode. To launch the window manager, run:<br /><pre>
 startx
 </pre></p>
 
 
-	<p>To become <em>root</em>, use the <code>su</code> command. More details on creating user accounts can be found <a href="http://www.calculate-linux.org/main/en/create_system_users" class="external">here</a>.</p>
+	<p>To become <em>root</em>, use the <code>su</code> command. More details on creating user accounts can be found on <a href="http://www.calculate-linux.org/main/en/create_system_users" class="external">this page</a>.</p>
+
+
+	<p>By default, you need to be root to log into the system remotely, via the ssh protocole. To add space for other users or to replace the root user edit the <em>AllowUsers</em>  line in your <code>/etc/ssh/sshd_config</code>. We recommend that you disable remote root login.</p>
 
 
-	<p>By default, you can log into the system remotely using <code>ssh</code> only as root. To add space for other users or to replace the root user edit the options AllowUsers in <code>/etc/ssh/sshd_config</code>. We recommend to deny the remote access for the <em>root</em> user.</p>
+	<h2 id="System-update">System update<a href="#System-update" class="wiki-anchor">&para;</a></h2>
 
 
-	<h2 id="Update">Update<a href="#Update" class="wiki-anchor">&para;</a></h2>
+	<p>Calculate Linux is a rolling-release distribution. You can update the system virtually unlimited number of times with <a href="http://www.calculate-linux.org/main/en/cl-update" class="external">cl-update</a>.</p>
 
 
-	<p>Calculate Linux is a rolling-release distribution. You can update the system virtually unlimited number of times, using the <span class="bluecode" >emerge</span> software manager. Before you update or install packages, execute the following to update the Portage tree:<br /><pre>
-eix-sync
+	<p>To sync the list of packages and update all of your software, simply run:<br /><pre>
+cl-update
 </pre></p>
 
 
-	<p>For further updates of all your software, run:<br /><pre>
-emerge -uDNa world
+	<p>Or, if you want to update the list only, for the time being:<br /><pre>
+cl-update --sync-only
 </pre></p>
 
 
-	<p>After that, you can upgrade existing or install new versions of programs with "emerge". A quick reference can be found <a href="http://www.calculate-linux.org/main/en/add_and_remove_programs" class="external">here</a>. Read also the <a href="http://www.calculate-linux.org/main/en/system_update_guide" class="external">System Update Guide</a>.</p>
+	<p>After that, you can install any other applications you need with <code>emerge</code>. A quick reference can be found <a href="http://www.calculate-linux.org/main/en/add_and_remove_programs" class="external">here</a>. It may also be of interest to read our <a href="http://www.calculate-linux.org/main/en/system_update_guide" class="external">System Update Guide</a>.</p>
 
 
 	<h2 id="Help">Help<a href="#Help" class="wiki-anchor">&para;</a></h2>
 
 
-	<p>If you have any difficulties installing Calculate Linux, or if you want to share your impressions, visit the IRC channel <em>#calculate</em> (on FreeNode) of our user community. You just have to click on the Xchat icon on your desktop.</p>
+	<p>If you have any difficulties installing Calculate Linux, or if you want to share your impressions, feel free to visit our IRC community channel <code>#calculate</code> on FreeNode. You just have to click on the <em>Hexchat</em> icon on top of your desktop.</p>
 
 
-	<p>Website: <a class="external" href="http://www.calculate-linux.org">http://www.calculate-linux.org</a><br />Newsletter: <a class="external" href="http://www.calculate-linux.org/main/en/maillist">http://www.calculate-linux.org/main/en/maillist</a><br />IRC chat: <a class="external" href="http://www.calculate-linux.org/irc">http://www.calculate-linux.org/irc</a></p>
+	<p>The project site: <noindex><a class="external" href="http://www.calculate-linux.org" ref="nofollow">http://www.calculate-linux.org</a></noindex><br />Maillist subscriptions: <noindex><a class="external" href="http://www.calculate-linux.org/main/en/maillist" ref="nofollow">http://www.calculate-linux.org/main/en/maillist</a></noindex><br />Our English-speaking IRC community: <noindex><a class="external" href="http://www.calculate-linux.org/irc" ref="nofollow">http://www.calculate-linux.org/irc</a></noindex></p>
 
 
-	<p><em>Enjoy!</em><br /><em>Calculate Linux Team.</em></p>
+	<p>&nbsp;<br /><em>Enjoy!</em><br /><em>Calculate Linux Team.</em></p>
 </body>
 </html>
diff --git data/handbook-es.html data/handbook-es.html
deleted file mode 100644
index bbcb70b..0000000
--- data/handbook-es.html
+++ /dev/null
@@ -1,163 +0,0 @@
-<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
-<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
-<head>
-<title>handbook es</title>
-<meta http-equiv="content-type" content="text/html; charset=utf-8" />
-<style>
-body { font:80% Verdana,Tahoma,Arial,sans-serif; }
-h1, h2, h3, h4 {  font-family: "Trebuchet MS",Georgia,"Times New Roman",serif; }
-ul.toc { padding: 4px; margin-left: 0; }
-ul.toc li { list-style-type:none; }
-ul.toc li.heading2 { margin-left: 1em; }
-ul.toc li.heading3 { margin-left: 2em; }
-a.wiki-anchor { display: none; margin-left: 6px; text-decoration: none; }
-a.wiki-anchor:hover { color: #aaa !important; text-decoration: none; }
-h1:hover a.wiki-anchor, h2:hover a.wiki-anchor, h3:hover a.wiki-anchor { display: inline; color: #ddd; }
-pre {font-size:133% }
-</style>
-</head>
-<body>
-<h1 id="Guía-de-instalación-rápida">Guía de instalación rápida<a href="#Guía-de-instalación-rápida" class="wiki-anchor">&para;</a></h1>
-
-
-	<h2 id="Bienvenidoa-a-Calculate">Bienvenido/a a Calculate!<a href="#Bienvenidoa-a-Calculate" class="wiki-anchor">&para;</a></h2>
-
-
-	<p>Intentabamos crear una solución de escritorio o de servidor más potente y flexible; confíamos que le gustará nuestro instalador original, una interfaz revisada que proponemos, los modelos de configuración, las utilidades Calculate con las cuales se puede administrar el sistema con facilidad, los Portages de Gentoo. Calculate Linux se distribuye en forma de una imágen de instalación y provee una hermosa lista de software preinstalado. En su mayoría, los programas que hemos incluido son cubiertos por la licencia libre; pueden ser instalados y redistribuidos libremente, y si usted es un desarrollador, le interesará que sus códigos fuentes pueden ser modificados también.</p>
-
-
-Las siglas que usamos para referirnos a nuestras distribuciones son:
-	<ul>
-	<li>CLD - Calculate Linux Desktop KDE</li>
-		<li>CLDG - Calculate Linux Desktop GNOME</li>
-		<li>CLDX - Calculate Linux Desktop XFCE</li>
-		<li>CLS - Calculate Linux Scratch</li>
-		<li>CMC - Calculate Media Center</li>
-		<li>CDS - Calculate Directory Server</li>
-		<li>CSS - Calculate Scratch Server</li>
-	</ul>
-
-
-	<p>Para ponerse el administrador de un sistema Calculate arrancado desde un LiveCD, use el identificador de usuario <em>root</em> con la contraseña <strong>root</strong>. Para acceder al escritorio CLD, CLDG o CLDX, pónguese <em>guest</em> con la contraseña <strong>guest</strong>.</p>
-
-
-	<h2 id="Configurar-su-red">Configurar su red<a href="#Configurar-su-red" class="wiki-anchor">&para;</a></h2>
-
-
-	<p>CLD, CLDG y CLDX  usan <em>Networkmanager</em> para configurar la red. Esta aplicación tiene una interfaz gráfica con el cual puede conectarse a través de una red alámbrica u inalámbrica. Al arranque, intentará de configurar el entorno de red automaticamente y solicitará una dirección IP del servidor DHCP. Clique encima del icono de Networkmanager en el system tray, arriba a la derecha.</p>
-
-
-	<p>CLS, CDS y CSS no proveen ningún instrumento grafíco para configurar la red, pués hay que editar el fichero <code>/etc/conf.d/net</code> con eso propósito. El fichero <code>/usr/share/doc/openrc-0.6.x/net.example</code> contiene una referencia sobre esto. Cuando ha modificado las opciones que importaban a usted, rearranque el entorno de red (por lo común, eth0 refiere a una red alámbrica):<br /><pre>
-/etc/init.d/net.eth0 restart
-</pre></p>
-
-
-	<h2 id="Crear-las-particiones-necesarias">Crear las particiones necesarias<a href="#Crear-las-particiones-necesarias" class="wiki-anchor">&para;</a></h2>
-
-
-	<p>Es posible que usted tiene necesidad de reparticionar su disco duro antes la instalación. Necesitará 10 GB minimalmente para instalar CLD, CLDG o CLDX, las cuales son las versiones más pesadas de Calculate. Por favor, lea <a href="http://www.calculate-linux.org/main/en/hardware_requirements" class="external">eso</a> si tiene preguntas sobre los requisitos de hardware. En el caso general, la partición de intercambio (swap) ha de ser el doble de la memoria RAM instalada. Si posee ya una partición swap, el sistema va a utilizarlo. Le recomendamos que reserve una partición para los datos personales (<code>/home</code>); encontrará más consejos <a href="http://www.calculate-linux.org/main/en/disk_partitioning" class="external">en la sección correspondiente</a> de eso sitio.</p>
-
-
-	<p>CLD sugiere utilizar <em>Partitionmanager</em>, mientras que CLDG y CLDX usan <em>Gparted</em>, pero le permiten también particionar su disco duro en el modo seudo-gráfico, con <em>cfdisk</em>. CDS, CSS y CLS, en cambio, sólo incluyen las utilidades de línea de comandos para particionar los discos: a escoger entre <em>fdisk</em> o <em>cfdisk</em>.</p>
-
-
-	<p>Si quiere visionar las particiones existentes, abre una Terminal y ejecute con los privilegios de <em>root</em>:<br /><pre>
-fdisk -l
-</pre></p>
-
-
-	<p>Nota: para hacerse <em>root</em>, ejecute <code>su</code> o <code>sudo</code> en la línea de comandos.</p>
-
-
-	<p>Los novicios en Linux necesitarán algún tiempo para familiarizarse con los nombres de los volúmenes, diferentes de los de Windows.<br />En efecto, en Linux se los suele llamar <em>sda1, sda2, ...</em> en lugar de los comunes C:\, D:\, ...</p>
-
-
-	<p>Sea utilice usted una partición existente, sea cree una en <em>Windows</em>. Para  conocer el nombre Linux correcto de la partición escogida, memorice su orden y su tamaño. Normalmente, Linux denominará sda1 a la unidad C:\, sda2 a la unidad D:\, etc.</p>
-
-
-	<p><h2 id="Instalar-el-sistema">Instalar el sistema<a href="#Instalar-el-sistema" class="wiki-anchor">&para;</a></h2>
-
-
-	<p>Desde la versión 10.9, Calculate Linux provee su propio instalador, <code>cl-install</code> ; esto dispone de un front-end, <code>cl-install-gui</code> en CLD, CLDG, CLDX y CLS. Cárguelo clicando encima de "Instalar Calculate Linux": se repera facilmente con su símbolo de pingüino.</p>
-
-
-	<p>Si no obstante prefiere un instalador que funcione desde la línea de comandos (<code>cl-install</code> puro), y si asumimos, por ejemplo, que desea instalar su nuevo sistema en la secunda partición del disco duro, pónguese <em>root</em> y ejecute:<br /><pre>
-cl-install -d /dev/sda2
-</pre></p>
-
-
-Las optiones más útiles de <code>cl-install</code> son :
-	<ul>
-	<li><strong>--hostname HOSTNAME</strong> - indica el nombre abreviado o completo del host;</li>
-		<li><strong>-l</strong> - indica el locale de su sistema. Los locales soportados son: en_US (inglés americano), bg_BG (búlgaro), de_DE (alemán), es_ES (español), fr_FR (francés), it_IT (italiano), pl_PL (polonés), pt_BR (portugués), ru_RU (ruso) y uk_UA (ucraniano);</li>
-		<li><strong>--mbr DEVICE</strong> - indica el disco con el MBR ; si el valor afectado es 'off', alguna modificación será desechada.</li>
-	</ul>
-
-
-	<p>En el transcurso de la instalación, el programa va al extraer los ficheros de <em>stage4</em> - eso es, el imágen de su futuro sistema - y, después, a preconfigurarlo con los modelos que van con la distribución.</p></p>
-
-
-	<h3 id="Instalar-en-una-memoria-USB">Instalar en una memoria USB<a href="#Instalar-en-una-memoria-USB" class="wiki-anchor">&para;</a></h3>
-
-
-	<p><em>¡Antes que empieza, no olvide hacer una copia de seguridad de los datos que conserva en la memoria!</em></p>
-
-
-	<p>Si planea instalar Calculate Linux en una memoria USB, debe cargar <code>cl-install</code> desde una Terminal. Primero hay que colocar la memoria en la máquina. Entonces, para conocer su nombre de periférico, ejecute como <em>root</em>:<br /><pre>
-fdisk -l
-</pre></p>
-
-
-	<p>En el siguiente exemplo, trataremos de instalar Calculate Linux en una unidad flash reconocida como un periférico <code>/dev/sdb</code>:<br /><pre>
-cl-install -d /dev/sdb1
-</pre></p>
-
-
-	<h2 id="Arrancar-el-sistema-por-la-primera-vez">Arrancar el sistema por la primera vez<a href="#Arrancar-el-sistema-por-la-primera-vez" class="wiki-anchor">&para;</a></h2>
-
-
-	<p>Si instala CLD, CLDG o CLDX sin señalar al sistema que usted desea otros usuarios, solas dos cuentas, <em>root</em> y <em>guest</em>, serán creadas. Cualquier usuario, salvo <em>root</em>, podrá acceder al entorno grafíco. La contraseña del usuario anónimo <em>guest</em> es por defecto <strong>guest</strong>.</p>
-
-
-	<p>En una CLS recién instalada, no hay invitación gráfica. Para lanzar el gestor de ventanas, ejecute:<br /><pre>
-startx
-</pre></p>
-
-
-	<p>Para obtener los privilegios de <em>root</em>, le recordamos que lo único que necesita hacer es cargar <code>su</code> desde la línea de comandos. Explicamos <a href="http://www.calculate-linux.org/main/en/create_system_users" class="external">aquí</a> cómo se añaden unos usuarios más.</p>
-
-
-	<p>Por defecto, no puede acceder al sistema remoto (mediante el protocolo ssh) sin privilegios de root. Probablemente hará falta crear otras cuentas de usuario, poniéndolas en el parámetro <em>AllowUsers</em>, el cual se utuliza en el fichero de configuración <code>/etc/ssh/sshd_config</code>. Además le aconsejamos que denegue el acceso remoto al usuario <em>root</em>.</p>
-
-
-	<h2 id="Actualizar-el-software">Actualizar el software<a href="#Actualizar-el-software" class="wiki-anchor">&para;</a></h2>
-
-
-	<p>Calculate Linux es una distribución rolling release; eso es, usted puede actualizarla en alguno momento, quando se apetece, si quiere tener lo último de lo último. <a href="http://www.calculate-linux.org/main/en/emerge" class="external">emerge</a> se ocupa de todo. Antes de instalar algo, actualize el árbol Portage con el siguiente comando:<br /><pre>
-eix-sync
-</pre></p>
-
-
-	<p>Para actualizar todo el software que posee en su sistema, ejecute:<br /><pre>
-emerge -uDNa world
-</pre></p>
-
-
-	<p>Después también podrá actualizar los programas u instalar unas nuevas aplicaciones con el gestor de paquetes <em>emerge</em>. Encontrará una referencia rápida sobre esto <a href="http://www.calculate-linux.org/main/en/add_and_remove_programs" class="external">por aquí</a>. Lea también nuestra <a href="http://www.calculate-linux.org/main/en/system_update_guide" class="external">Guía de actualización</a>.</p>
-
-
-	<h2 id="Ayuda">Ayuda<a href="#Ayuda" class="wiki-anchor">&para;</a></h2>
-
-
-	<p>Si tiene dificultad para instalar Calculate Linux, o si le gustaría a usted compartir sus impresiones, visitenos en nuestros canales <em>IRC</em>: le basta a usted clicar encima del icono de <em>Xchat</em> sobre su escritorio (arriba a la izquierda).</p>
-
-
-	<h2 id="Recursos-útiles">Recursos útiles<a href="#Recursos-útiles" class="wiki-anchor">&para;</a></h2>
-
-
-	<p>El sitio del proyecto Calculate (EN): <a class="external" href="http://www.calculate-linux.org">http://www.calculate-linux.org</a><br />Nuestra lista de correo (EN): <a class="external" href="http://www.calculate-linux.org/main/en/maillist">http://www.calculate-linux.org/main/en/maillist</a><br />Nuestros canales IRC: <code>#calculate-es</code> (en español) o <code>#calculate</code> (en inglés) sobre <em>irc.freenode.net</em></p>
-
-
-	<p><em>¡Disfrutese!<br />Los desarrolladores de Calculate Linux</em></p>
-</body>
-</html>
diff --git data/handbook-fr.html data/handbook-fr.html
deleted file mode 100644
index 0fdd47b..0000000
--- data/handbook-fr.html
+++ /dev/null
@@ -1,165 +0,0 @@
-<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
-<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
-<head>
-<title>handbook fr</title>
-<meta http-equiv="content-type" content="text/html; charset=utf-8" />
-<style>
-body { font:80% Verdana,Tahoma,Arial,sans-serif; }
-h1, h2, h3, h4 {  font-family: "Trebuchet MS",Georgia,"Times New Roman",serif; }
-ul.toc { padding: 4px; margin-left: 0; }
-ul.toc li { list-style-type:none; }
-ul.toc li.heading2 { margin-left: 1em; }
-ul.toc li.heading3 { margin-left: 2em; }
-a.wiki-anchor { display: none; margin-left: 6px; text-decoration: none; }
-a.wiki-anchor:hover { color: #aaa !important; text-decoration: none; }
-h1:hover a.wiki-anchor, h2:hover a.wiki-anchor, h3:hover a.wiki-anchor { display: inline; color: #ddd; }
-pre {font-size:133% }
-</style>
-</head>
-<body>
-<h1 id="Calculate-Linux-Guide-dinstallation-rapide">Calculate Linux : Guide d'installation rapide<a href="#Calculate-Linux-Guide-dinstallation-rapide" class="wiki-anchor">&para;</a></h1>
-
-
-	<h2 id="Bienvenue-sur-Calculate-">Bienvenue sur Calculate !<a href="#Bienvenue-sur-Calculate-" class="wiki-anchor">&para;</a></h2>
-
-
-	<p>Nous souhaitions vous proposer une solution bureau ou serveur performante, mais conviviale au possible ; nous espérons l'avoir fait, avec notre installateur original, une interface entièrement refaite, les modèles de configuration, les utilitaires Calculate et les Portages Gentoo. Calculate Linux est distribuée sous forme d'un LiveCD d'installation qui inclut des applications de choix. La plupart des logiciels sont mis à disposition sous la licence libre et peuvent, de ce fait, être distribués et installés sans aucune restriction ; leurs codes sources sont librement modifiables.</p>
-
-
-	<p>Voici les acronymes que nous utilisons pour désigner les différentes versions de Calculate :</p>
-
-
-	<ul>
-	<li>CLD - Calculate Linux Desktop KDE</li>
-		<li>CLDG - Calculate Linux Desktop GNOME</li>
-		<li>CLDX - Calculate Linux Desktop XFCE</li>
-		<li>CLS - Calculate Linux Scratch</li>
-		<li>CMC - Calculate Media Center</li>
-		<li>CDS - Calculate Directory Server</li>
-		<li>CSS - Calculate Scratch Server</li>
-	</ul>
-
-
-	<p>Pour avoir les droits d'administrateur en mode live, identifiez-vous comme <em>root</em> avec le mot de passe <strong>root</strong>. Vous pouvez accéder à votre bureau CLD, CLDG ou CLDX en tant qu'utilisateur <em>guest</em> dont le mot de passe est <strong>guest</strong>.</p>
-
-
-	<h2 id="Configurer-votre-connexion-réseau">Configurer votre connexion réseau<a href="#Configurer-votre-connexion-réseau" class="wiki-anchor">&para;</a></h2>
-
-
-	<p>Si vous avez opté pour CLD, CLDG ou CLDX, <em>Networkmanager</em> vous aide à configurer votre connection Internet. Ce gestionnaire de réseau fournit une interface graphique qui permet de se connecter en toute facilité, qu'il s'agisse d'un réseau filaire ou sans fil. Au démarrage, il essayera de configurer votre réseau et d'obtenir une adresse IP automatiquement, par un serveur DHCP. Pour ouvrir <em>Networkmanager</em>, cliquez sur son icône dans la zone de notification (en haut à droite).</p>
-
-
-	<p>Quant à CLS, CDS ou encore CSS, il vous faudra éditer le fichier de configuration <code>/etc/conf.d/net</code> pour pouvoir vous connecter. Pour plus d'informations, voir <code>/usr/share/doc/openrc-0.6.x/net.example</code>. Après avoir modifié les réglages réseau, redémarrez l'interface (dans le cas général, ce sera eth0 pour un réseau filaire) :<br /><pre>
-/etc/init.d/net.eth0 restart
-</pre></p>
-
-
-	<h2 id="Partitionner-votre-disque">Partitionner votre disque<a href="#Partitionner-votre-disque" class="wiki-anchor">&para;</a></h2>
-
-
-	<p>Avant d'installer Calculate Linux, vous devrez probablement modifier le partitionnement de votre disque dur. L'installation de CLD, CLDG et CLDX, les versions les plus " lourdes " de Calculate, nécessitera une partition de 10 Go minimum. Les prérequis matériel sont détaillés <a href="http://www.calculate-linux.org/main/en/hardware_requirements" class="external">sur cette page</a>. Normalement, la taille de la mémoire virtuelle (ou swap) doit être égale à deux fois la taille de la mémoire vive. Si une partition swap existe déjà, le système l'utilisera. Nous conseillons de stocker vos fichiers personnels, alias le répertoire <code>/home</code>, sur une partition à part. Pour plus de conseils sur le partionnement, lisez <a href="http://www.calculate-linux.org/main/en/disk_partitioning" class="external">ceci</a>.</p>
-
-
-	<p>CLD est fournie avec l'application <em>Partitionmanager</em>, pour gérer les partitions, alors que CLDG et CLDX sont censées utiliser <em>Gparted</em> à ces mêmes fins. Vous pouvez également partitionner votre disque dur en mode pseudo-graphique, avec <em>cfdisk</em>. Les versions CDS, CSS et CLS, en revanche, n'ont que des outils console à vous proposer, à savoir <em>fdisk</em> ou <em>cfdisk</em>.</p>
-
-
-	<p>Pour afficher le plan de partitionnement actuel, lancez le Terminal avec les privilèges <em>root</em> et tapez :<br /><pre>
-fdisk -l
-</pre></p>
-
-
-	<p>Note : pour devenir <em>root</em> (provisoirement), exécutez <code>su</code> ou <code>sudo</code> en console.</p>
-
-
-	<p>Si vous êtes novice à Linux, sachez que les partitions apparaîtront dans le système sous des noms différents de celles de Windows.<br />En effet, Linux nomme les partitions <em>sda1, sda2, ...</em>, et non pas C:\, D:\, ..., dénominations auxquelles les usagers de Windows sont habitués.</p>
-
-
-	<p>Vous avez deux options : soit vous utilisez une partition qui existe déjà sur votre disque dur, soit vous (re)partitionnez le disque sous <em>Windows</em>. Pour ne pas vous tromper sur le nom Linux de la partition choisie, mémoriser l'ordre dans lequel elle apparaît et sa taille. Généralement, sda1 correspondra au disque C:\, sda2, au disque D:\, etc.</p>
-
-
-	<p><h2 id="Installation">Installation<a href="#Installation" class="wiki-anchor">&para;</a></h2>
-
-
-	<p>A partir de la version 10.9, Calculate Linuxwe a son propre installateur, <code>cl-install</code> ; ce dernier dispose d'un frontal graphique, <code>cl-install-gui</code> dans CLD, CLDG, CLDX et CLS. Pour le lancer, cliquez sur le raccourci "Installer Calculate Linux", facilement repérable sur le bureau.</p>
-
-
-	<p>Si vous préférez quand même l'installateur console (<code>cl-install</code>, sans fioritures), et que vous voulez installer le nouveau système en réservant à celui-ci, disons, la deuxième partition de votre disque dur, exécutez sous <em>root</em> :<br /><pre>
-cl-install -d /dev/sda2
-</pre></p>
-
-
-Les options les plus utiles de cette commande sont :
-	<ul>
-	<li><strong>--hostname HOSTNAME</strong> - indiquer le nom abrégé ou complet de l'hôte ;</li>
-		<li><strong>-l</strong> - définir la locale système. Les locales supportées sont : en_US (anglais américain), bg_BG (bulgare), de_DE (allemand), es_ES (espagnol), fr_FR (français), it_IT (italien), pl_PL (polonais), pt_BR (portugais), ru_RU (russe) et uk_UA (ukrainien) ;</li>
-		<li><strong>--mbr DEVICE</strong> - indiquer le disque avec le MBR ; si la valeur affectée est 'off', toute modification sera rejetée.</li>
-	</ul>
-
-
-	<p>Lors de l'installation, le programme va extraire les données de <em>stage4</em> - c'est-à-dire, l'image de votre futur système - et les préconfigurer avec les modèles fournis.</p></p>
-
-
-	<h3 id="Installer-sur-une-clé-USB">Installer sur une clé USB<a href="#Installer-sur-une-clé-USB" class="wiki-anchor">&para;</a></h3>
-
-
-	<p><em>Avant de procéder à l'installation, il est vivement conseillé de faire une copie de réserve de toutes vos données (en les sauvegardant sur une autre clé USB, par exemple) !</em></p>
-
-
-	<p>L'installation du système sur un support USB se fait avec l'utilitaire <code>cl-install</code>, qui se lance à partir de la console. Naturellement, il vous faudra d'abord brancher la clé ; ensuite, pour connaître son nom de périphérique, exécutez sous <em>root</em> dans votre Terminal:<br /><pre>
-fdisk -l
-</pre></p>
-
-
-	<p>Si, par exemple, votre clé USB a été identifiée comme un périphérique <code>/dev/sdb</code>, vous y installerez Calculate Linux en tapant :<br /><pre>
-cl-install -d /dev/sdb1
-</pre></p>
-
-
-	<h2 id="Démarrer-pour-la-première-fois">Démarrer pour la première fois<a href="#Démarrer-pour-la-première-fois" class="wiki-anchor">&para;</a></h2>
-
-
-	<p>Une fois votre système CLD, CLDG ou CLDX installé, deux comptes utilisateur seront créés, en plus de vos comptes personnalisés si vous en avez ajouté au moins un : <em>root</em> et <em>guest</em>. Tout utilisateur sauf <em>root</em> peut accéder à la session graphique. Par défaut, le mot de passe de l'utilisateur anonyme <em>guest</em> est <strong>guest</strong>.</p>
-
-
-	<p>Notez que, juste après l'installation, CLS ne fournit pas d' invitation graphique du mot de passe. Pour lancer le gestionnaire de fenêtres, tapez<br /><pre>
-startx
-</pre></p>
-
-
-	<p>Afin de pouvoir travailler avec les privilèges de <em>root</em>, utilisez la commande <code>su</code>. Si vous souhaitez créer un nouveau compte utilisateur, veuillez lire <a href="http://www.calculate-linux.org/main/en/create_system_users" class="external">la section correspondante de la documentation</a>.</p>
-
-
-	<p>Vous ne pouvez vous connecter à distance (via le protocole ssh) que doté de privilèges <em>root</em>. Il est possible d'éditer le fichier <code>/etc/ssh/sshd_config</code> en ajoutant des comptes utilisateur à la valeur du paramètre <em>AllowUsers</em> ; nous vous recommandons d'ailleurs d'interdire à l'utilisateur <em>root</em> d'accéder au système à distance.</p>
-
-
-	<h2 id="Mettre-à-jour-votre-système">Mettre à jour votre système<a href="#Mettre-à-jour-votre-système" class="wiki-anchor">&para;</a></h2>
-
-
-	<p>Calculate Linux propose la mise à jour en continu. Vous pourrez donc la faire à tout moment, tant que vous voulez : <a href="http://www.calculate-linux.org/main/en/emerge" class="external">emerge</a> s'en charge. Commencez par mettre à jour l'arbre Portage :<br /><pre>
-eix-sync
-</pre></p>
-
-
-	<p>Pour la mise à jour de toutes vos applications, exécutez :<br /><pre>
-emerge -uDNa world
-</pre></p>
-
-
-	<p>Par la suite, vous pourrez installer ou désinstaller des logiciels avec le gestionnaire de paquets <em>emerge</em>. Pour vous renseigner rapidement sur la gestion des logiciels, référez-vous <a href="http://www.calculate-linux.org/main/en/add_and_remove_programs" class="external">ici</a>. Pensez également à consulter notre <a href="http://www.calculate-linux.org/main/en/system_update_guide" class="external">Guide de mise à jour</a>.</p>
-
-
-	<h2 id="Dépannage">Dépannage<a href="#Dépannage" class="wiki-anchor">&para;</a></h2>
-
-
-	<p>Si vous rencontrez des difficultés à installer Calculate Linux, ou juste pour faire part de vos impressions, n'hésitez pas à rejoindre un (ou plusieurs) des canaux <em>IRC</em> de la communauté : il suffit de cliquer sur le raccourci de <em>Xchat</em> en haut à gauche de votre bureau.</p>
-
-
-	<h2 id="Liens-utiles">Liens utiles<a href="#Liens-utiles" class="wiki-anchor">&para;</a></h2>
-
-
-	<p>Site du projet (EN): <a class="external" href="http://www.calculate-linux.org">http://www.calculate-linux.org</a><br />Notre liste de diffusion (EN) : <a class="external" href="http://www.calculate-linux.org/main/en/maillist">http://www.calculate-linux.org/main/en/maillist</a><br />Nos canaux IRC : <code>#calculate-fr</code> (en français) ou <code>#calculate</code> (en anglais) sur <em>irc.freenode.net</em></p>
-
-
-	<p><em>Bien à vous,<br />L'équipe Calculate Linux</em></p>
-</body>
-</html>
diff --git data/handbook-ru.html data/handbook-ru.html
index e09dbc1..e2a14b4 100644
--- data/handbook-ru.html
+++ data/handbook-ru.html
@@ -1,4 +1,4 @@
-<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
 <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
 <head>
 <title>handbook</title>
@@ -15,20 +15,20 @@ a.wiki-anchor:hover { color: #aaa !important; text-decoration: none; }
 h1:hover a.wiki-anchor, h2:hover a.wiki-anchor, h3:hover a.wiki-anchor { display: inline; color: #ddd; }
 pre {font-size:133% }
 </style>
+</head>
 <body>
-  <h1 id="Краткое-руководство-по-установке">Краткое руководство по установке<a href="#Краткое-руководство-по-установке" class="wiki-anchor">&para;</a></h1>
+<h1 id="Краткое-руководство-по-установке">Краткое руководство по установке<a href="#Краткое-руководство-по-установке" class="wiki-anchor">&para;</a></h1>
 
 
 	<h2 id="Благодарим-за-использование-Calculate-Linux">Благодарим за использование Calculate Linux!<a href="#Благодарим-за-использование-Calculate-Linux" class="wiki-anchor">&para;</a></h2>
 
 
-	<p>Мы постарались сделать для вас максимально удобную для работы систему, используя оригинальный установщик, переработанный интерфейс, шаблоны настройки, утилиты Calculate и Gentoo Portages. Дистрибутив распространяется в виде установочного образа, содержащего лучшее программное обеспечение. Большая часть программ имеет свободную лицензию, позволяющую не только устанавливать и распространять, но и модифицировать исходный код.</p>
+	<p>Мы постарались сделать для вас максимально удобную для работы систему, используя оригинальный установщик, переработанный интерфейс, шаблоны настройки, утилиты Calculate и Gentoo Portage. Дистрибутив распространяется в виде установочного образа, содержащего лучшее программное обеспечение. Большая часть программ имеет свободную лицензию, позволяющую не только устанавливать и распространять, но и модифицировать исходный код.</p>
 
 
 Используемые сокращенные названия дистрибутивов:
 	<ul>
 	<li>CLD - Calculate Linux Desktop KDE</li>
-		<li>CLDG - Calculate Linux Desktop GNOME</li>
 		<li>CLDX - Calculate Linux Desktop XFCE</li>
 		<li>CLS - Calculate Linux Scratch</li>
 		<li>CMC - Calculate Media Center</li>
@@ -37,7 +37,7 @@ pre {font-size:133% }
 	</ul>
 
 
-	<p>Для получения прав администратора системы, запущенной с LiveCD, используйте логин <em>root</em> с паролем <strong>root</strong>. Доступ к рабочему столу CLD, CLDG и CLDX выполняется пользователем <em>guest</em> с паролем <strong>guest</strong>.</p>
+	<p>Для получения прав администратора системы, запущенной с LiveCD, либо графическом режиме выполните <span class="bluecode" >su</span> в виртуальном терминале, либо перейдите в одну их текстовых консолей нажатием <strong>Ctrl+Alt+F[1-8]</strong>. Доступ к рабочему столу CLD и CLDX выполняется пользователем <em>guest</em> с паролем <strong>guest</strong>.</p>
 
 
 	<h2 id="Настройка-сети">Настройка сети<a href="#Настройка-сети" class="wiki-anchor">&para;</a></h2>
@@ -51,16 +51,16 @@ pre {font-size:133% }
 	</ul>
 
 
-	<p>Подробнее в разделе <a href="http://www.calculate-linux.ru/main/ru/setup_network" class="wiki-page">Настройка сети</a>.</p>
+	<p>Подробнее в разделе <a href="http://www.calculate-linux.ru/main/ru/setup_network" class="external">Настройка сети</a>.</p>
 
 
 	<h2 id="Разбивка-диска">Разбивка диска<a href="#Разбивка-диска" class="wiki-anchor">&para;</a></h2>
 
 
-	<p>Перед установкой вам может понадобиться изменить разделы жесткого диска. Для установки CLD, CLDG и CLDX мы рекомендуем использовать раздел не менее 10 Гб. Более подробно аппаратные требования можно узнать <a href="http://www.calculate-linux.ru/main/ru/hardware_requirements" class="external">здесь</a>. Раздел подкачки (swap), как правило, выделяется вдвое большим размера оперативной памяти. Если раздел под swap уже существует, система будет использовать его. Полезно иметь отдельный раздел для личных файлов (<code>/home</code>). Наши рекомендации по разбиению диска описаны <a href="http://www.calculate-linux.ru/main/ru/disk_partitioning" class="external">здесь</a>.</p>
+	<p>Перед установкой вам может понадобиться изменить разделы жесткого диска. Для установки CLD и CLDX мы рекомендуем использовать раздел не менее 10 Гб. Более подробно аппаратные требования можно узнать <a href="http://www.calculate-linux.ru/main/ru/hardware_requirements" class="external">здесь</a>. Раздел подкачки (swap), как правило, выделяется вдвое большим размера оперативной памяти. Если раздел под swap уже существует, система будет использовать его. Полезно иметь отдельный раздел для личных файлов (<code>/home</code>). Наши рекомендации по разбиению диска описаны <a href="http://www.calculate-linux.ru/main/ru/disk_partitioning" class="external">здесь</a>.</p>
 
 
-	<p>В CLD, CLDG и CLDX для изменения разделов диска используется программа <em>Gparted</em>. В CDS, CSS и CLS входят только консольные утилиты: <em>fdisk</em>,<em>gdisk</em> или <em>cfdisk</em>.</p>
+	<p>В CLD и CLDX для изменения разделов диска используется программа <em>Gparted</em>. В CDS, CSS и CLS входят только консольные утилиты: <em>fdisk</em>,<em>gdisk</em> или <em>cfdisk</em>.</p>
 
 
 	<p>Чтобы просмотреть список существующих разделов, откройте консоль с правами пользователя <em>root</em> и наберите:<br /><pre>
@@ -82,9 +82,9 @@ fdisk -l
 
 Установить систему Calculate Linux вы можете одним из перечисленных способов:
 	<ul>
-	<li>графическим клиентом <a href="http://www.calculate-linux.ru/main/ru/calculate-console-gui" class="wiki-page">cl-console-gui</a>;</li>
-		<li>консольным клиентом <a href="http://www.calculate-linux.ru/main/ru/calculate-console" class="wiki-page">cl-console</a>;</li>
-		<li>используя вызов <a href="http://www.calculate-linux.ru/main/ru/calculate-core" class="wiki-page">cl-core --method=install</a>.</li>
+	<li>графическим клиентом <a href="http://www.calculate-linux.ru/main/ru/calculate-console-gui" class="external">cl-console-gui</a>,</li>
+		<li>консольным клиентом <a href="http://www.calculate-linux.ru/main/ru/calculate-console" class="external">cl-console</a>,</li>
+		<li>напрямую сервером утилит <a href="http://www.calculate-linux.ru/main/ru/calculate-core" class="external">cl-core</a>.</li>
 	</ul>
 
 
@@ -96,16 +96,15 @@ fdisk -l
 
 Подробное описание установки смотрите в соответствующих разделах:
 	<ul>
-	<li><a href="http://www.calculate-linux.ru/main/ru/calculate_install" class="wiki-page">Установка на жёсткий диск</a>;</li>
-		<li><a href="http://www.calculate-linux.ru/main/ru/calculate_install_flash" class="wiki-page">Установка на Flash</a>;</li>
-		<li><a href="http://www.calculate-linux.ru/main/ru/configuration_of_pxe" class="wiki-page new">Установка PXE</a>.</li>
+	<li><a href="http://www.calculate-linux.ru/main/ru/calculate_install" class="external">Установка на жёсткий диск</a></li>
+		<li><a href="http://www.calculate-linux.ru/main/ru/calculate_install_flash" class="external">Установка на Flash</a></li>
 	</ul></p>
 
 
 	<h2 id="Первый-запуск">Первый запуск<a href="#Первый-запуск" class="wiki-anchor">&para;</a></h2>
 
 
-	<p>Если вы не указали других пользователей, после установки CLD, CLDG и CLDX в системе будут заведены две учётные записи, <em>root</em> и <em>guest</em>. Доступ к графическому сеансу может получить любой пользователь, кроме <em>root</em>. По умолчанию у пользователя <em>guest</em> установлен пароль <strong>guest</strong>.</p>
+	<p>Если вы не указали других пользователей, после установки CLD и CLDX в системе будут заведены две учётные записи, <em>root</em> и <em>guest</em>. Доступ к графическому сеансу может получить любой пользователь, кроме <em>root</em>. По умолчанию у пользователя <em>guest</em> установлен пароль <strong>guest</strong>.</p>
 
 
 	<p>После установки в CLS нет графического приглашения к вводу пароля. Для запуска оконного менеджера выполните:<br /><pre>
@@ -122,23 +121,26 @@ startx
 	<h2 id="Обновление">Обновление<a href="#Обновление" class="wiki-anchor">&para;</a></h2>
 
 
-	<p>Calculate Linux использует rolling-release модель обновлений. Вы можете обновлять систему практически неограниченное количество раз, используя менеджер установки программ <a href="http://www.calculate-linux.ru/main/ru/emerge" class="external">emerge</a>. Перед установкой и обновлением программ, обновите портежи:<br /><pre>
-eix-sync
+	<p>Calculate Linux использует rolling-release модель обновлений. Вы можете обновлять систему практически неограниченное количество раз, используя утилиту обновления системы <a href="http://www.calculate-linux.ru/main/ru/cl-update" class="external">cl-update</a>.</p>
+
+
+	<p>Для выполнения синхронизации списка пакетов и обновления программ, выполните:<br /><pre>
+cl-update
 </pre></p>
 
 
-	<p>Для обновления программ, выполните:<br /><pre>
-emerge -uDNa world
+	<p>Если вы хотите только обновить список пакетов, то выполните:<br /><pre>
+cl-update --sync-only
 </pre></p>
 
 
-	<p>После этого вы можете обновить или установить новые программы при помощи менеджера пакетов <em>emerge</em>. Краткая справка приведена <a href="http://www.calculate-linux.ru/main/ru/add_and_remove_programs" class="external">здесь</a>. Прочтите так же <a href="http://www.calculate-linux.ru/main/ru/system_update_guide" class="external">Руководство по обновлению системы</a>.</p>
+	<p>После этого вы можете установить новые программы при помощи менеджера пакетов <em>emerge</em>. Краткая справка приведена <a href="http://www.calculate-linux.ru/main/ru/add_and_remove_programs" class="external">здесь</a>. Прочтите так же <a href="http://www.calculate-linux.ru/main/ru/system_update_guide" class="external">Руководство по обновлению системы</a>.</p>
 
 
 	<h2 id="Помощь">Помощь<a href="#Помощь" class="wiki-anchor">&para;</a></h2>
 
 
-	<p>Если установка системы вызвала сложности или вы хотите поделиться своим впечатлением, зайдите на <em>IRC</em> канал <em>#calculate-ru</em> (сервер FreeNode) сообщества пользователей Calculate Linux. Для этого достаточно воспользоваться иконкой <em>Xchat</em> на вашем рабочем столе.</p>
+	<p>Если установка системы вызвала сложности или вы хотите поделиться своим впечатлением, зайдите на <em>IRC</em> канал <em>#calculate-ru</em> (сервер FreeNode) сообщества пользователей Calculate Linux. Для этого достаточно воспользоваться иконкой <em>Hexchat</em> на вашем рабочем столе.</p>
 
 
 	<p>Сайт проекта: <noindex><a class="external" href="http://www.calculate-linux.ru" ref="nofollow">http://www.calculate-linux.ru</a></noindex><br />Рассылка: <noindex><a class="external" href="http://www.calculate-linux.ru/main/ru/maillist" ref="nofollow">http://www.calculate-linux.ru/main/ru/maillist</a></noindex><br />IRC чат: <noindex><a class="external" href="http://www.calculate-linux.ru/irc" ref="nofollow">http://www.calculate-linux.ru/irc</a></noindex></p>
diff --git pym/install/fs_manager.py pym/install/fs_manager.py
index b2c2fa2..8daf03c 100644
--- pym/install/fs_manager.py
+++ pym/install/fs_manager.py
@@ -35,6 +35,7 @@ class FileSystemManager:
                   'formatparam': '{labelparam} {device}',
                   'gpt': '8300',
                   'label': '-L {labelname}',
+                  'ssd':[],
                   'msdos': '83',
                   'type':['hdd','usb-hdd']},
          'ext3': {'defaultopt': defaultOpt,
@@ -42,6 +43,7 @@ class FileSystemManager:
                   'formatparam': '{labelparam} {device}',
                   'gpt': '8300',
                   'label': '-L {labelname}',
+                  'ssd':[],
                   'msdos': '83',
                   'type':['hdd','usb-hdd']},
          'ext4': {'defaultopt': defaultOpt,
@@ -49,6 +51,7 @@ class FileSystemManager:
                   'formatparam': '{labelparam} {device}',
                   'gpt': '8300',
                   'label': '-L {labelname}',
+                  'ssd':[],
                   'msdos': '83',
                   'type':['hdd','usb-hdd']},
          'reiserfs': {'defaultopt': defaultOpt,
@@ -57,6 +60,7 @@ class FileSystemManager:
                       'gpt': '8300',
                       'label': '-l {labelname}',
                       'msdos': '83',
+                      'ssd':[],
                       'type':['hdd','usb-hdd']},
          'btrfs': {'defaultopt': defaultOpt,
                    'format':'/sbin/mkfs.btrfs',
@@ -64,6 +68,7 @@ class FileSystemManager:
                    'gpt': '8300',
                    'label': '-L {labelname}',
                    'msdos': '83',
+                   'ssd':['ssd','discard','space_cache'],
                    'type':['hdd','usb-hdd']},
          'jfs': {'defaultopt': defaultOpt,
                  'format': '/sbin/mkfs.jfs',
@@ -71,6 +76,7 @@ class FileSystemManager:
                  'gpt': '8300',
                  'label': '-L {labelname}',
                  'msdos': '83',
+                 'ssd':[],
                  'type':['hdd','usb-hdd']},
          'xfs': {'defaultopt': defaultOpt,
                  'format': '/sbin/mkfs.xfs',
@@ -78,6 +84,7 @@ class FileSystemManager:
                  'gpt': '8300',
                  'label': '-L {labelname}',
                  'msdos': '83',
+                 'ssd':[],
                  'type':['hdd','usb-hdd']},
          'nilfs2': {'defaultopt': defaultOpt,
                     'format': '/sbin/mkfs.nilfs2',
@@ -85,12 +92,14 @@ class FileSystemManager:
                     'gpt': '8300',
                     'label': '-L {labelname}',
                     'msdos': '83',
+                    'ssd':[],
                     'type':['hdd','usb-hdd']},
          'swap': {'defaultopt': 'sw',
                   'format': '/sbin/mkswap',
                   'formatparam': '{device}',
                   'gpt': '8200',
                   'label': '',
+                  'ssd':[],
                   'msdos': '82'},
          'uefi': {'defaultopt': defaultOpt,
                   'format': '/usr/sbin/mkfs.vfat',
@@ -98,6 +107,7 @@ class FileSystemManager:
                   'gpt': 'EF00',
                   'label': '-n {labelname}',
                   'msdos': '0b',
+                  'ssd':[],
                   'type':['hdd']},
          'vfat': {'defaultopt': defaultOpt,
                   'format': '/usr/sbin/mkfs.vfat',
@@ -105,6 +115,7 @@ class FileSystemManager:
                   'gpt': '0700',
                   'label': '-n {labelname}',
                   'msdos': '0b',
+                  'ssd':[],
                   'type':['flash']},
          'ntfs': {'defaultopt': defaultOpt,
                   'format': '/usr/sbin/mkfs.ntfs',
@@ -112,14 +123,19 @@ class FileSystemManager:
                   'gpt': '8300',
                   'label': '-L {labelname}',
                   'msdos': '7',
+                  'ssd':[],
                   'compatible':['ntfs-3g']},
          'ntfs-3g': {'defaultopt': defaultOpt,
                      'format': '/usr/sbin/mkfs.ntfs',
                      'formatparam': '{labelparam} -FQ {device}',
                      'gpt': '8300',
                      'label': '-L {labelname}',
+                     'ssd':[],
                      'msdos': '7',
                      'compatible':['ntfs']}}
+
+    default_param = {'defaultopt':defaultOpt,
+                     'ssd':[]}
     @classmethod
     def firstAvailable(cls,listFS):
         for fs in listFS:
@@ -141,8 +157,9 @@ class FileSystemManager:
                         "ext3"}
 
     @classmethod
-    def getDefaultOpt(cls,fs):
-        return ",".join(cls.supportFS.get(fs,{'defaultopt':[]})['defaultopt'])
+    def getDefaultOpt(cls,fs, ssd=False):
+        return ",".join(cls.supportFS.get(fs,cls.default_param)['defaultopt']+
+                (cls.supportFS.get(fs,cls.default_param)['ssd'] if ssd else []))
 
     @classmethod
     def checkFSForTypeMount(cls,fs,roottype,mp):
diff --git pym/install/install.py pym/install/install.py
index 7c0242f..5381246 100644
--- pym/install/install.py
+++ pym/install/install.py
@@ -241,7 +241,7 @@ class Install:
                               "--target=x86_64-efi",
                               "--efi-directory=%s"%
                               target.getEfiDirectory(),
-                              "-f"]
+                              "--force"]
             # в случае установки на usb-hdd EFI загрузчик не прописывается
             # в efivars
             if self.clVars.Get('os_install_root_type') == 'usb-hdd':
@@ -281,8 +281,8 @@ class Install:
             # если GRUB2 версии 2.00 и выше, обычная установка требует
             # параметра --target=i386-pc, иначе GRUB2 может попытаться
             # прописать себя как UEFI
-            if filter(lambda x:"2.00" in x,
-                           process(cmdGrubInstall,'-v')):
+            if filter(lambda x:"2." in x,
+                           process(cmdGrubInstall,'--version')):
                 platform = ["--target=i386-pc"]
             else:
                 platform = []
@@ -291,7 +291,7 @@ class Install:
                 grubProcess = process(cmdGrubInstall,
                                   "--boot-directory=%s"%pathJoin(prefixBoot,
                                   target.getBootDirectory()),
-                                  mbrDisk, "-f", *platform,
+                                  mbrDisk, "--force", *platform,
                                   stderr=STDOUT,envdict=os.environ)
                 if grubProcess.failed():
                     raise DistributiveError(_("Failed to install the bootloader"))
diff --git pym/install/migrate_users.py pym/install/migrate_users.py
index d00a5c5..f862eb2 100644
--- pym/install/migrate_users.py
+++ pym/install/migrate_users.py
@@ -401,11 +401,11 @@ class migrate:
         notWrite = lambda x: not os.access(x, os.W_OK)
         filesNotRead = filter(notRead,checkThisFiles)
         if filesNotRead:
-            raise MigrationError(_("Failed to read files") + ": " +\
+            raise MigrationError(_("Failed to read files") + _(": ") +
                             ", ".join(filesNotRead))
         filesNotWrite = filter(notWrite,checkNewFiles)
         if filesNotWrite:
-            raise MigrationError(_("Failed to write to files") + ": " +\
+            raise MigrationError(_("Failed to write to files") + _(": ") +
                             ", ".join(filesNotWrite))
         # Check permissions backup files
         checkNewBackupFiles = map(lambda x:pathJoin(self.prefixNewSystem,x+"-"),
@@ -415,7 +415,7 @@ class migrate:
                                     not os.access(os.path.dirname(x), os.W_OK))
         filesNotWrite = filter(notWriteBackup, checkNewBackupFiles)
         if filesNotWrite:
-            raise MigrationError(_("Failed to write to files") + ": " +\
+            raise MigrationError(_("Failed to write to files") + _(": ") +
                             ", ".join(filesNotWrite))
         return True
 
diff --git pym/install/variables/autopartition.py pym/install/variables/autopartition.py
index 1a5e7d4..8504910 100644
--- pym/install/variables/autopartition.py
+++ pym/install/variables/autopartition.py
@@ -39,16 +39,18 @@ setLocalTranslate('cl_install3',sys.modules[__name__])
 
 
 class SizeHelper:
+    default_size = Sizes.M
+
     def set(self,value):
         # convert table from value to MB
-        sizeMap = {'kB':1/1000.0,
-                   'K':1/1024.0,
-                   'M':1.0,
-                   'Mb':1000/1024.0,
-                   'G':1024,
-                   'Gb':1000,
-                   'T':1024*1024,
-                   'Tb':1000*1000}
+        sizeMap = {'kB':Sizes.kB,
+                   'K':Sizes.K,
+                   'M':Sizes.M,
+                   'Mb':Sizes.Mb,
+                   'G':Sizes.G,
+                   'Gb':Sizes.Gb,
+                   'T':Sizes.T,
+                   'Tb':Sizes.Tb}
         value = value.strip()
         reSizeValue = re.compile('^(\d+)\s*(%s)?'%"|".join(sizeMap.keys()))
         res = reSizeValue.search(value)
@@ -57,7 +59,9 @@ class SizeHelper:
         intValue = int(res.group(1))
         if res.group(2):
             intValue = intValue * sizeMap[res.group(2)]
-        return str(int(intValue))
+        else:
+            intValue = intValue * self.default_size
+        return str(intValue)
 
 MINROOTSIZE=7*Sizes.G
 
@@ -377,6 +381,7 @@ class VariableClAutopartitionSwapSize(SizeHelper,AutopartitionHelper,Variable):
     """
     Swap size
     """
+    type = "size-m"
     opt = ["--swap-size"]
     metavalue = "SIZE"
     untrusted = True
@@ -386,13 +391,13 @@ class VariableClAutopartitionSwapSize(SizeHelper,AutopartitionHelper,Variable):
         self.help = _("set the swap partition size for autopartition")
 
     def get(self):
-        size = int(self.Get('hr_memory_size')) / Sizes.M
-        if size < Sizes.K:
-            size = Sizes.K
+        size = int(self.Get('hr_memory_size'))
+        if size < Sizes.G:
+            size = Sizes.G
         return str(size)
 
     def humanReadable(self):
-        return humanreadableSize(int(self.Get())*Sizes.M)
+        return humanreadableSize(int(self.Get()))
 
 class VariableClAutopartitionDevice(AutopartitionHelper,Variable):
     """
@@ -554,10 +559,23 @@ class VariableClAutopartitionScheme(AutopartitionHelper,Variable,AutoPartition):
                 raise VariableError(
                     _("The bios_grub partition need the partition table to be GPT"))
 
+class VariableClAutopartitionRootSizeDefault(Variable):
+    """
+    Размер root раздела при авторазметке
+    """
+    value = str(Sizes.G*15)
+
+class VariableClAutopartitionRootSizeMin(Variable):
+    """
+    Минимальнй размер root раздела
+    """
+    value = str(Sizes.G*7)
+
 class VariableClAutopartitionRootSize(SizeHelper,AutopartitionHelper,Variable):
     """
     Root partition size for autopartition
     """
+    type = "size-m"
     opt = ["--root-size"]
     metavalue = "SIZE"
     untrusted = True
@@ -567,25 +585,24 @@ class VariableClAutopartitionRootSize(SizeHelper,AutopartitionHelper,Variable):
         self.help = _("set the root partition size for autopartition")
 
     def get(self):
-        if self.Get('os_install_linux_system') == 'server':
-            size = 1024*20 # in M
-        else:
-            size = 1024*10 # in M
-        deviceSize = self.Get('cl_autopartition_device_size')
-        if Sizes().from_M(size) >= deviceSize:
-            size = max(Sizes().to_M(deviceSize),Sizes().to_M(MINROOTSIZE))
+        size = int(self.Get('cl_autopartition_root_size_default'))
+        deviceSize = int(self.Get('cl_autopartition_device_size'))
+        minRootSize = int(self.Get('cl_autopartition_root_size_min'))
+        if size >= deviceSize:
+            size = max(deviceSize, minRootSize)
         return str(size)
 
     def check(self,value):
-        if self.Get('cl_autopartition_device') and \
-            self.Get('cl_autopartition_set') == "on":
-            if int(value) < Sizes().to_M(MINROOTSIZE):
+        minRootSize = int(self.Get('cl_autopartition_root_size_min'))
+        if (self.Get('cl_autopartition_device') and 
+            self.Get('cl_autopartition_set') == "on"):
+            if int(value) < minRootSize:
                 raise VariableError(
                     _("The root partition should be at least {size}").format(
-                        size="7 Gb"))
+                        size="%s Gb"%(Sizes().to_G(minRootSize))))
 
     def humanReadable(self):
-        return humanreadableSize(int(self.Get())*Sizes.M)
+        return humanreadableSize(int(self.Get()))
 
 class VariableClAutopartitionTable(AutopartitionHelper,Variable):
     """
@@ -829,19 +846,20 @@ class VariableClAutopartitionDiskSize(ReadonlyVariable,AutopartitionHelper):
     """
     type = "list"
 
-    def generateSize(self,scheme,memory,bootsize,uefisize,rootsize,availsize):
+    def generateSize(self,scheme,memory,bootsize,uefisize,rootsize,availsize, minrootsize):
         args = {'swap':memory,
                 'root': rootsize,
                 'root2': rootsize,
                 'boot': bootsize,
                 'uefi': uefisize,
                }
+        minrootsize = int(minrootsize)
         deviceOpts = list(self.deviceOpts(scheme))
         for line in deviceOpts[:-1]:
             availsize -= int(args.get(line,0))
             yield str(args.get(line,0))
-        if "root" in deviceOpts[-1] and availsize < MINROOTSIZE:
-                yield str(MINROOTSIZE)
+        if "root" in deviceOpts[-1] and availsize < minrootsize:
+                yield str(minrootsize)
         elif availsize < 1*Sizes.G:
             yield str(1*Sizes.G)
         else:
@@ -854,12 +872,13 @@ class VariableClAutopartitionDiskSize(ReadonlyVariable,AutopartitionHelper):
             availSize = self.Get('cl_autopartition_device_size')
             if device:
                 return list(self.generateSize(scheme,
-                           str(int(self.Get('cl_autopartition_swap_size'))
-			          *Sizes.M),
+                           self.Get('cl_autopartition_swap_size'),
                            self.Get('cl_autopartition_boot_size'),
                            self.Get('cl_autopartition_uefi_size'),
-                           str(int(self.Get('cl_autopartition_root_size'))
-                                   *Sizes.M),int(availSize)))
+                           self.Get('cl_autopartition_root_size'),
+                           int(availSize),
+                           self.Get('cl_autopartition_root_size_min')
+                           ))
         return []
 
     def humanReadable(self):
diff --git pym/install/variables/disk.py pym/install/variables/disk.py
index 17b0e2c..79a149b 100644
--- pym/install/variables/disk.py
+++ pym/install/variables/disk.py
@@ -40,7 +40,8 @@ setLocalTranslate('cl_install3',sys.modules[__name__])
 
 class DeviceHelper:
     sysBlockPath = '/sys/block'
-    rePassDevice = re.compile("^(?!%s)"%"|".join(['fd','ram','loop']))
+    rePassDevice = re.compile("^(?!%s)"%"|".join(['sr','fd',
+                                                  'ram','loop']))
 
     def getDeviceFromSysPath(self):
         """Get interest devices from sys block path"""
@@ -125,7 +126,8 @@ class VariableOsDeviceDev(ReadonlyVariable,DeviceHelper):
         def _getDiskName(devpath):
             """Get devname only for by udevadm that devpath is device (disk)"""
             prop = getUdevDeviceInfo(devpath)
-            if prop.get("ID_TYPE","")=="disk" and \
+            if (prop.get("ID_TYPE","")=="disk" or 
+                path.exists(path.join(devpath,"device"))) and \
                    prop.get("DEVTYPE","")=="disk":
                 return prop.get('DEVNAME','')
 
@@ -1420,7 +1422,6 @@ class VariableOsInstallDiskOptions(ReadonlyVariable):
     type = "list"
 
     def get(self):
-        """TODO: get real options"""
         def postProcess(opt):
             l_opt = filter(None,opt.split(','))
             return ",".join(l_opt)
@@ -1428,11 +1429,15 @@ class VariableOsInstallDiskOptions(ReadonlyVariable):
         diskOpts = dict(filter(lambda x:x[1],
                         zip(self.Get('os_disk_dev'),
                             self.Get('os_disk_options'))))
+        ssdDisk = dict(self.ZipVars('install.os_device_dev',
+                                    'install.os_device_ssd_set'))
         return map(postProcess,
                map(lambda x:diskOpts.get(x[0],x[1]),
-               map(lambda x:(x[0],FileSystemManager.getDefaultOpt(x[1])),
+               map(lambda x:(x[0],FileSystemManager.getDefaultOpt(x[1],
+                                  ssd=ssdDisk.get(x[2], 'off')=='on')),
                self.ZipVars('os_install_disk_dev',
-                            'os_install_disk_format'))))
+                            'os_install_disk_format',
+                            'os_install_disk_parent'))))
 
 class VariableOsInstallDiskFormat(ReadonlyVariable):
     """
diff --git pym/install/variables/system.py pym/install/variables/system.py
index bbe5926..08a0006 100644
--- pym/install/variables/system.py
+++ pym/install/variables/system.py
@@ -533,8 +533,8 @@ class VariableOsGrub2Path(Variable):
             return grubInstall
         # find grub-install and check, that this is grub2-install (ver 1.99)
         grubInstall = getProgPath('/usr/sbin/grub-install')
-        if grubInstall and filter(lambda x:"1.99" in x or "2.00" in x,
-                           process(grubInstall,'-v')):
+        if grubInstall and filter(lambda x:"1.99" in x or "2." in x,
+                           process(grubInstall,'--version')):
             return grubInstall
         return ""
 
diff --git pym/install/wsdl_install.py pym/install/wsdl_install.py
index 1c117be..cf2d1ea 100644
--- pym/install/wsdl_install.py
+++ pym/install/wsdl_install.py
@@ -137,7 +137,8 @@ class Wsdl(WsdlBase):
         'method_name':"install_pxe",
         'category':__("Installation"),
         'title':__("PXE Install"),
-        'image':'network-server,preferences-desktop-remote-desktop',
+        'image':('gnome-network-properties,network-server,'
+                'preferences-desktop-remote-desktop'),
         'command':'cl-install-pxe',
         'gui':True,
         'rights':['installpxe'],
@@ -187,7 +188,7 @@ class Wsdl(WsdlBase):
         'method_name':"setup_network",
         'category':__("Configuration"),
         'title':__("Network"),
-        'image':'gnome-network-properties,'
+        'image':'network-workgroup,'
                 'network-idle,preferences-system-network',
         'command':'cl-setup-network',
         'gui':True,
diff --git setup.py setup.py
index 26a8a1e..725af84 100755
--- setup.py
+++ setup.py
@@ -33,9 +33,7 @@ data_files = []
 data_files += [('/etc/init.d', [('data/calculate',0755)]),
                ('/usr/bin',[('bin/xautologin',0755)]),
                ('/usr/share/calculate/doc', ['data/handbook-en.html',
-                                             'data/handbook-ru.html',
-                                             'data/handbook-es.html',
-                                             'data/handbook-fr.html']),
+                                             'data/handbook-ru.html']),
                ('/bin',[('bin/bashlogin',0755)])]
 
 packages = [
